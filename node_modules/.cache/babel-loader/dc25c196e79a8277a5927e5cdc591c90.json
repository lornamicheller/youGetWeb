{"remainingRequest":"/Users/joelalejandro/Downloads/live-map/youGetWeb/node_modules/babel-loader/lib/index.js!/Users/joelalejandro/Downloads/live-map/youGetWeb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/joelalejandro/Downloads/live-map/youGetWeb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/joelalejandro/Downloads/live-map/youGetWeb/src/views/paymentMethod.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/joelalejandro/Downloads/live-map/youGetWeb/src/views/paymentMethod.vue","mtime":1569885281000},{"path":"/Users/joelalejandro/Downloads/live-map/youGetWeb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joelalejandro/Downloads/live-map/youGetWeb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/joelalejandro/Downloads/live-map/youGetWeb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joelalejandro/Downloads/live-map/youGetWeb/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Parse from \"parse\"; // let stripe = Stripe(\"pk_test_1eKxhVAU9OSAFiekz8bsTQBn0031r5OQZt\"),\n//   elements = stripe.elements(),\n//   card = undefined;\n\nexport default {\n  data: function data() {\n    return {\n      data: null,\n      cardName: null,\n      number: null,\n      expMont: null,\n      expDate: null,\n      cvv: null,\n      stripe: null,\n      cardNumberElement: null,\n      elements: null\n    };\n  },\n  mounted: function mounted() {\n    // Create a Stripe client.\n    // this.stripe = Stripe('pk_test_1eKxhVAU9OSAFiekz8bsTQBn0031r5OQZt');\n    // Create an instance of Elements.\n    this.stripe = Stripe(\"pk_test_1eKxhVAU9OSAFiekz8bsTQBn0031r5OQZt\");\n    this.elements = this.stripe.elements();\n    this.createNewUser();\n    Parse.serverURL = \"https://parseapi.back4app.com\"; // This is your Server URL\n\n    Parse.initialize(\"HTzPuPz4IAwcYAhYj96i6rD8hdzfsGuPzppMAlOJ\", // This is your Application ID\n    \"rKRxSPX035PcdC3bZi919Se3CsSufijmjbfni8xd\" // This is your Javascript key\n    // 'ijcYK0Uitub8QGrTERUTkwOSVW6FKZw1q1sgYMPH' // This is your Master key (never use it in the frontend)\n    );\n    this.data = this.$route.params.result;\n  },\n  methods: {\n    createNewUser: function createNewUser() {\n      var self = this;\n      var style = {\n        base: {\n          color: \"#32325d\",\n          fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n          fontSmoothing: \"antialiased\",\n          fontSize: \"16px\",\n          \"::placeholder\": {\n            color: \"#aab7c4\"\n          }\n        },\n        invalid: {\n          color: \"#fa755a\",\n          iconColor: \"#fa755a\"\n        }\n      }; // Create an instance of the card Element.\n\n      var card = self.elements.create(\"card\", {\n        style: style\n      }); // Add an instance of the card Element into the `card-element` <div>.\n\n      card.mount(\"#card-element\"); // Handle real-time validation errors from the card Element.\n\n      card.addEventListener(\"change\", function (event) {\n        var displayError = document.getElementById(\"card-errors\");\n\n        if (event.error) {\n          displayError.textContent = event.error.message;\n        } else {\n          displayError.textContent = \"\";\n        }\n      }); // Handle form submission.\n\n      var form = document.getElementById(\"payment-form\");\n      form.addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        self.stripe.createToken(card).then(function (result) {\n          if (result.error) {\n            // Inform the user if there was an error.\n            var errorElement = document.getElementById(\"card-errors\");\n            errorElement.textContent = result.error.message;\n          } else {\n            // Send the token to your server.\n            self.stripeTokenHandler(result.token);\n          }\n        });\n      });\n    },\n    // Submit the form with the token ID.\n    stripeTokenHandler: function stripeTokenHandler(token) {\n      var _this = this;\n\n      // Insert the token ID into the form so it gets submitted to the server\n      var form = document.getElementById(\"payment-form\");\n      var hiddenInput = document.createElement(\"input\");\n      hiddenInput.setAttribute(\"type\", \"hidden\");\n      hiddenInput.setAttribute(\"name\", \"stripeToken\");\n      hiddenInput.setAttribute(\"value\", token.id);\n      console.log(\"token\", token);\n      form.appendChild(hiddenInput); // Submit the form\n      // form.submit();\n      // this.errorAlert(JSON.stringify(token) + \"TOKEN\");\n\n      Parse.Cloud.run(\"createStripeUser\", {\n        cardToken: token.id,\n        email: Parse.User.current().get(\"username\"),\n        userId: Parse.User.current().id\n      }).then(function (result) {\n        // this.card = result;\n        _this.$router.push({\n          name: \"choosePlan\",\n          params: {\n            token: token\n          }\n        });\n      }, function (error) {\n        _this.emptyFields(error);\n\n        console.log(error);\n      });\n    }\n  }\n};",{"version":3,"sources":["paymentMethod.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"container-fluid\">\n      <div class=\"container\" style=\"padding-top: 130px;\">\n        <div class=\"row justify-content-center\">\n          <div\n            class=\"col-xl-3 col-lg-3 col-md-4 col-sm-4 col-xs-4\"\n            style=\"padding: 0; margin-top: 20px;\"\n          >\n            <h1\n              style=\"font-size: 30px; text-align: center; font-family: 'Poppins', sans-serif; color: #ed1c24; font-weight: 700; margin-bottom: 40px;\"\n            >Payment Method</h1>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"container\">\n      <form method=\"post\" id=\"payment-form\">\n        <div class=\"justify-content-center\">\n          <label class=\"label\" for=\"card-element\">Credit or debit card</label>\n\n          <div class=\"form\" id=\"card-element\">\n            <!-- a Stripe Element will be inserted here. -->\n          </div>\n          <!-- Used to display Element errors -->\n          <div id=\"card-errors\" role=\"alert\"></div>\n        </div>\n        <button @click=\"createNewUser()\" class=\"btn-Stripe continue-btn\">Submit Payment</button>\n      </form>\n\n      <!-- <form method=\"post\" id=\"payment-form\">\n        <div class=\"form-row\">\n          <label for=\"card-element\">Credit or debit card</label>\n          <div id=\"card-element\">\n          </div>\n\n          <div id=\"card-errors\" role=\"alert\"></div>\n        </div>\n\n        <button @click=\"createNewUser()\">Submit Payment</button>\n      </form>-->\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport Parse from \"parse\";\n// let stripe = Stripe(\"pk_test_1eKxhVAU9OSAFiekz8bsTQBn0031r5OQZt\"),\n//   elements = stripe.elements(),\n//   card = undefined;\n\nexport default {\n  data() {\n    return {\n      data: null,\n      cardName: null,\n      number: null,\n      expMont: null,\n      expDate: null,\n      cvv: null,\n      stripe: null,\n      cardNumberElement: null,\n      elements: null\n    };\n  },\n  mounted: function() {\n    // Create a Stripe client.\n    // this.stripe = Stripe('pk_test_1eKxhVAU9OSAFiekz8bsTQBn0031r5OQZt');\n\n    // Create an instance of Elements.\n\n    this.stripe = Stripe(\"pk_test_1eKxhVAU9OSAFiekz8bsTQBn0031r5OQZt\");\n    this.elements = this.stripe.elements();\n\n    this.createNewUser();\n    Parse.serverURL = \"https://parseapi.back4app.com\"; // This is your Server URL\n    Parse.initialize(\n      \"HTzPuPz4IAwcYAhYj96i6rD8hdzfsGuPzppMAlOJ\", // This is your Application ID\n      \"rKRxSPX035PcdC3bZi919Se3CsSufijmjbfni8xd\" // This is your Javascript key\n      // 'ijcYK0Uitub8QGrTERUTkwOSVW6FKZw1q1sgYMPH' // This is your Master key (never use it in the frontend)\n    );\n\n    this.data = this.$route.params.result;\n  },\n  methods: {\n    createNewUser() {\n      var self = this;\n      var style = {\n        base: {\n          color: \"#32325d\",\n          fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n          fontSmoothing: \"antialiased\",\n          fontSize: \"16px\",\n          \"::placeholder\": {\n            color: \"#aab7c4\"\n          }\n        },\n        invalid: {\n          color: \"#fa755a\",\n          iconColor: \"#fa755a\"\n        }\n      };\n      // Create an instance of the card Element.\n      var card = self.elements.create(\"card\", { style: style });\n\n      // Add an instance of the card Element into the `card-element` <div>.\n      card.mount(\"#card-element\");\n\n      // Handle real-time validation errors from the card Element.\n      card.addEventListener(\"change\", function(event) {\n        var displayError = document.getElementById(\"card-errors\");\n        if (event.error) {\n          displayError.textContent = event.error.message;\n        } else {\n          displayError.textContent = \"\";\n        }\n      });\n\n      // Handle form submission.\n      var form = document.getElementById(\"payment-form\");\n      form.addEventListener(\"submit\", function(event) {\n        event.preventDefault();\n\n        self.stripe.createToken(card).then(function(result) {\n          if (result.error) {\n            // Inform the user if there was an error.\n            var errorElement = document.getElementById(\"card-errors\");\n            errorElement.textContent = result.error.message;\n          } else {\n            // Send the token to your server.\n            self.stripeTokenHandler(result.token);\n          }\n        });\n      });\n    },\n    // Submit the form with the token ID.\n    stripeTokenHandler(token) {\n      // Insert the token ID into the form so it gets submitted to the server\n      var form = document.getElementById(\"payment-form\");\n      var hiddenInput = document.createElement(\"input\");\n      hiddenInput.setAttribute(\"type\", \"hidden\");\n      hiddenInput.setAttribute(\"name\", \"stripeToken\");\n      hiddenInput.setAttribute(\"value\", token.id);\n      console.log(\"token\", token);\n      form.appendChild(hiddenInput);\n\n      // Submit the form\n      // form.submit();\n\n      // this.errorAlert(JSON.stringify(token) + \"TOKEN\");\n      Parse.Cloud.run(\"createStripeUser\", {\n        cardToken: token.id,\n        email: Parse.User.current().get(\"username\"),\n        userId: Parse.User.current().id\n      }).then(\n        result => {\n          // this.card = result;\n          this.$router.push({ name: \"choosePlan\", params: { token } });\n        },\n        error => {\n          this.emptyFields(error);\n          console.log(error);\n        }\n      );\n    }\n  }\n};\n</script>\n\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n/* @import url(\"https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700&display=swap\"); */\n\n/* @font-face { */\n/* font-family: \"renogare_soft\";\n  src: url(\"../assets/renogare_soft/RenogareSoft-Regular.ttf\")\n    format(\"opentype\");\n  font-style: normal;\n}\n.form-control {\n  font-size: 10px;\n  font-family: \"Poppins\", sans-serif;\n  height: 40px;\n  border-radius: 0;\n  background: #cfcfcf;\n  border: 0;\n  color: black;\n  /* width: 300px; */\n/* } */\n/* \n.logo {\n  width: 150px;\n  height: 80px;\n  object-fit: contain;\n  display: block;\n  margin-right: auto;\n  margin-left: auto;\n}*/\n\n.continue-btn {\n  border: none;\n  height: 50px;\n  width: 100%;\n  border-radius: 25px;\n  margin-top: 20px;\n  background: #ed1c24;\n  font-weight: 300;\n  font-size: 13px;\n  font-family: \"Poppins\", sans-serif;\n  transition: 0.5s;\n}\n\n#card-element {\n  font-family: \"Poppins\", sans-serif;\n}\n\n.continue-btn:hover {\n  background: #c7161c;\n}\n\n.label {\n  font-size: 13px;\n  font-family: \"Poppins\", sans-serif;\n}\n</style>"],"sourceRoot":"src/views"}]}